INFO 2022-04-18 10:54:10,318 autoreload 2484 10504 Watching for file changes with StatReloader
ERROR 2022-04-18 10:54:14,926 log 2484 7100 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(order_product_data)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 83, in create_invoice
    print(order_product.data)
AttributeError: 'OrderProduct' object has no attribute 'data'
ERROR 2022-04-18 10:54:14,932 basehttp 2484 7100 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 10:54:37,818 autoreload 2484 10504 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:54:38,717 autoreload 12936 13496 Watching for file changes with StatReloader
INFO 2022-04-18 10:54:42,244 basehttp 12936 5408 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:55:10,736 autoreload 12936 13496 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:55:11,718 autoreload 7016 1160 Watching for file changes with StatReloader
INFO 2022-04-18 10:55:15,581 basehttp 7016 7340 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:55:26,810 autoreload 7016 1160 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:55:27,813 autoreload 5760 1880 Watching for file changes with StatReloader
INFO 2022-04-18 10:55:33,281 basehttp 5760 10516 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:55:44,127 autoreload 5760 1880 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:55:45,433 autoreload 11440 12836 Watching for file changes with StatReloader
ERROR 2022-04-18 10:55:46,422 log 11440 3424 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 83, in create_invoice
    print(new_order.data)
AttributeError: 'Order' object has no attribute 'data'
ERROR 2022-04-18 10:55:46,428 basehttp 11440 3424 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 10:55:50,606 autoreload 11440 12836 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:55:51,559 autoreload 5148 784 Watching for file changes with StatReloader
INFO 2022-04-18 10:55:51,923 basehttp 5148 11248 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:56:04,454 autoreload 5148 784 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:56:05,621 autoreload 5784 3324 Watching for file changes with StatReloader
ERROR 2022-04-18 10:56:08,279 log 5784 12432 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 83, in create_invoice
    print(new_order.objects.all())
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 186, in __get__
    raise AttributeError(
AttributeError: Manager isn't accessible via Order instances
ERROR 2022-04-18 10:56:08,307 basehttp 5784 12432 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 10:57:23,056 autoreload 5784 3324 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:57:24,056 autoreload 652 8720 Watching for file changes with StatReloader
INFO 2022-04-18 10:57:26,773 basehttp 652 4716 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:57:44,243 autoreload 652 8720 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:57:45,374 autoreload 11656 4664 Watching for file changes with StatReloader
ERROR 2022-04-18 10:57:46,064 log 11656 6100 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 84, in create_invoice
    print(order_serializer.data['order_products'])
KeyError: 'order_products'
ERROR 2022-04-18 10:57:46,065 basehttp 11656 6100 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 10:57:58,065 autoreload 11656 4664 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:57:59,183 autoreload 6888 8060 Watching for file changes with StatReloader
INFO 2022-04-18 10:58:05,657 basehttp 6888 11956 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:58:22,471 autoreload 6888 8060 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:58:23,642 autoreload 11492 7056 Watching for file changes with StatReloader
INFO 2022-04-18 10:58:24,741 basehttp 11492 8432 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 10:59:03,530 autoreload 11492 7056 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:59:04,759 autoreload 3536 9168 Watching for file changes with StatReloader
ERROR 2022-04-18 10:59:05,530 log 3536 5052 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 84, in create_invoice
    print(order_serializer.data['orderproducts']['product'])
TypeError: list indices must be integers or slices, not str
ERROR 2022-04-18 10:59:05,533 basehttp 3536 5052 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 10:59:40,777 autoreload 3536 9168 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 10:59:41,813 autoreload 768 13916 Watching for file changes with StatReloader
INFO 2022-04-18 10:59:43,981 basehttp 768 12252 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 11:00:08,401 autoreload 768 13916 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:00:09,551 autoreload 12904 1464 Watching for file changes with StatReloader
INFO 2022-04-18 11:00:09,954 basehttp 12904 8768 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 11:00:27,575 autoreload 12904 1464 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:00:28,633 autoreload 7708 3528 Watching for file changes with StatReloader
INFO 2022-04-18 11:04:21,000 autoreload 7708 3528 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:04:21,925 autoreload 11752 108 Watching for file changes with StatReloader
ERROR 2022-04-18 11:04:27,065 log 11752 7824 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 42, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 87, in create_invoice
    product = products.get(id=order['product'])
NameError: name 'order' is not defined
ERROR 2022-04-18 11:04:27,078 basehttp 11752 7824 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:04:58,535 autoreload 11752 108 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:04:59,800 autoreload 13152 9600 Watching for file changes with StatReloader
INFO 2022-04-18 11:05:01,975 basehttp 13152 524 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 11:06:03,586 autoreload 13152 9600 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:06:04,443 autoreload 3184 7896 Watching for file changes with StatReloader
INFO 2022-04-18 11:08:19,440 autoreload 3184 7896 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:08:20,331 autoreload 12816 11288 Watching for file changes with StatReloader
INFO 2022-04-18 11:08:25,302 autoreload 12816 11288 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:08:26,499 autoreload 13900 1956 Watching for file changes with StatReloader
ERROR 2022-04-18 11:08:28,132 log 13900 2772 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 94, in create_invoice
    payment_deadline = created_date + 15
TypeError: unsupported operand type(s) for +: 'builtin_function_or_method' and 'int'
ERROR 2022-04-18 11:08:28,139 basehttp 13900 2772 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:26:22,303 autoreload 13900 1956 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:26:23,224 autoreload 7572 6424 Watching for file changes with StatReloader
INFO 2022-04-18 11:26:31,234 autoreload 7572 6424 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:26:32,324 autoreload 10416 13220 Watching for file changes with StatReloader
INFO 2022-04-18 11:26:39,448 autoreload 10416 13220 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:26:40,303 autoreload 12168 7208 Watching for file changes with StatReloader
ERROR 2022-04-18 11:26:44,565 log 12168 11896 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 94, in create_invoice
    payment_deadline = created_date + datetime.timedelta(days=15)
TypeError: unsupported operand type(s) for +: 'builtin_function_or_method' and 'datetime.timedelta'
ERROR 2022-04-18 11:26:44,576 basehttp 12168 11896 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:27:30,637 autoreload 12168 7208 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:27:31,483 autoreload 11708 10204 Watching for file changes with StatReloader
ERROR 2022-04-18 11:27:33,949 log 11708 2744 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 94, in create_invoice
    payment_deadline = created_date.date() + datetime.timedelta(days=15)
AttributeError: 'builtin_function_or_method' object has no attribute 'date'
ERROR 2022-04-18 11:27:33,952 basehttp 11708 2744 "POST /orders/ HTTP/1.1" 500 145
ERROR 2022-04-18 11:27:36,843 log 11708 2744 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 94, in create_invoice
    payment_deadline = created_date.date() + datetime.timedelta(days=15)
AttributeError: 'builtin_function_or_method' object has no attribute 'date'
ERROR 2022-04-18 11:27:36,845 basehttp 11708 2744 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:28:34,681 autoreload 11708 10204 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:28:35,813 autoreload 5752 11484 Watching for file changes with StatReloader
ERROR 2022-04-18 11:28:37,831 log 5752 7928 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 94, in create_invoice
    payment_deadline = created_date + datetime.timedelta(days=15)
TypeError: unsupported operand type(s) for +: 'builtin_function_or_method' and 'datetime.timedelta'
ERROR 2022-04-18 11:28:37,834 basehttp 5752 7928 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:29:16,119 autoreload 5752 11484 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:29:17,054 autoreload 11424 5832 Watching for file changes with StatReloader
INFO 2022-04-18 11:29:26,523 autoreload 11424 5832 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:29:27,494 autoreload 12828 1864 Watching for file changes with StatReloader
INFO 2022-04-18 11:29:31,328 autoreload 12828 1864 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:29:32,410 autoreload 9980 10684 Watching for file changes with StatReloader
INFO 2022-04-18 11:30:02,559 autoreload 9980 10684 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:30:03,446 autoreload 8056 6248 Watching for file changes with StatReloader
INFO 2022-04-18 11:30:13,946 autoreload 8056 6248 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:30:14,987 autoreload 11008 1512 Watching for file changes with StatReloader
ERROR 2022-04-18 11:30:16,845 log 11008 5972 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 93, in create_invoice
    created_date = date.today
NameError: name 'date' is not defined
ERROR 2022-04-18 11:30:16,851 basehttp 11008 5972 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:30:44,345 autoreload 11008 1512 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:30:45,255 autoreload 9260 3388 Watching for file changes with StatReloader
ERROR 2022-04-18 11:30:57,160 log 9260 1780 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 93, in create_invoice
    created_date = datetime.date.today
AttributeError: 'method_descriptor' object has no attribute 'today'
ERROR 2022-04-18 11:30:57,164 basehttp 9260 1780 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:31:45,270 autoreload 9260 3388 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:31:46,252 autoreload 5916 3216 Watching for file changes with StatReloader
ERROR 2022-04-18 11:31:48,076 log 5916 6152 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 95, in create_invoice
    payment_deadline = created_date + datetime.timedelta(days=15)
NameError: name 'datetime' is not defined
ERROR 2022-04-18 11:31:48,083 basehttp 5916 6152 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:32:04,695 autoreload 5916 3216 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:32:05,687 autoreload 4820 2532 Watching for file changes with StatReloader
INFO 2022-04-18 11:32:08,802 basehttp 4820 9548 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 11:32:53,540 autoreload 4820 2532 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:32:54,532 autoreload 2276 7868 Watching for file changes with StatReloader
INFO 2022-04-18 11:35:52,514 autoreload 9492 13428 Watching for file changes with StatReloader
INFO 2022-04-18 11:38:40,023 autoreload 9492 13428 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:38:41,065 autoreload 1880 7312 Watching for file changes with StatReloader
INFO 2022-04-18 11:39:05,770 autoreload 1880 7312 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:39:06,673 autoreload 7516 9648 Watching for file changes with StatReloader
ERROR 2022-04-18 11:39:32,302 log 7516 2900 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.DataError: (1264, "Out of range value for column 'amount' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 96, in create_invoice
    invoice = Invoice.objects.create(amount=amount, created_date=created_date,
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.DataError: (1264, "Out of range value for column 'amount' at row 1")
ERROR 2022-04-18 11:39:32,439 basehttp 7516 2900 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:40:10,681 autoreload 7516 9648 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:40:11,584 autoreload 12192 14044 Watching for file changes with StatReloader
ERROR 2022-04-18 11:40:16,942 log 12192 10892 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 91, in create_invoice
    amount = amount + (product_price * product_quantity)
UnboundLocalError: local variable 'amount' referenced before assignment
ERROR 2022-04-18 11:40:16,946 basehttp 12192 10892 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:44:41,300 autoreload 12192 14044 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:44:42,500 autoreload 2956 2920 Watching for file changes with StatReloader
INFO 2022-04-18 11:44:53,868 autoreload 2956 2920 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:44:54,730 autoreload 10792 12544 Watching for file changes with StatReloader
ERROR 2022-04-18 11:45:00,019 log 10792 5288 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 92, in create_invoice
    amount = amount + (product_price * product_quantity)
NameError: name 'amount' is not defined
ERROR 2022-04-18 11:45:00,025 basehttp 10792 5288 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:48:39,594 autoreload 10792 12544 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:48:40,587 autoreload 10232 5672 Watching for file changes with StatReloader
ERROR 2022-04-18 11:48:45,330 log 10232 13712 Internal Server Error: /orders/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.DataError: (1264, "Out of range value for column 'amount' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 38, in create
    new_order = self.order_service.create(validated_data, order_products)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 43, in create
    invoice = self.create_invoice(new_order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py", line 96, in create_invoice
    invoice = Invoice.objects.create(amount=amount, created_date=created_date,
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.DataError: (1264, "Out of range value for column 'amount' at row 1")
ERROR 2022-04-18 11:48:45,339 basehttp 10232 13712 "POST /orders/ HTTP/1.1" 500 145
INFO 2022-04-18 11:50:50,347 autoreload 10232 5672 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 11:50:51,368 autoreload 14184 9848 Watching for file changes with StatReloader
INFO 2022-04-18 11:51:31,657 autoreload 12408 12968 Watching for file changes with StatReloader
INFO 2022-04-18 11:51:39,003 basehttp 12408 5732 "POST /orders/ HTTP/1.1" 200 164
INFO 2022-04-18 11:57:11,666 autoreload 12408 12968 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:57:12,696 autoreload 6496 3304 Watching for file changes with StatReloader
INFO 2022-04-18 11:57:52,640 autoreload 6496 3304 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 11:57:53,621 autoreload 11428 10100 Watching for file changes with StatReloader
INFO 2022-04-18 12:23:12,287 autoreload 11428 10100 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 12:23:13,336 autoreload 3296 1404 Watching for file changes with StatReloader
INFO 2022-04-18 12:24:40,269 autoreload 3296 1404 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 12:24:41,239 autoreload 4100 1748 Watching for file changes with StatReloader
INFO 2022-04-18 12:25:05,933 autoreload 4100 1748 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 12:25:07,075 autoreload 3436 2740 Watching for file changes with StatReloader
INFO 2022-04-18 12:26:18,088 autoreload 3436 2740 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\urls.py changed, reloading.
INFO 2022-04-18 12:26:19,301 autoreload 11284 6572 Watching for file changes with StatReloader
INFO 2022-04-18 12:26:41,955 autoreload 11284 6572 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\urls.py changed, reloading.
INFO 2022-04-18 12:26:42,990 autoreload 7292 8496 Watching for file changes with StatReloader
INFO 2022-04-18 12:27:20,228 autoreload 7292 8496 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:27:21,172 autoreload 3340 2400 Watching for file changes with StatReloader
INFO 2022-04-18 12:27:57,031 basehttp 3340 5180 "GET /invoice/ HTTP/1.1" 200 127
INFO 2022-04-18 12:28:05,088 basehttp 3340 5180 "GET /invoice/1/ HTTP/1.1" 200 125
INFO 2022-04-18 12:29:17,847 autoreload 3340 2400 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 12:29:19,221 autoreload 2228 9648 Watching for file changes with StatReloader
INFO 2022-04-18 12:31:37,182 autoreload 2228 9648 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:31:38,376 autoreload 12832 8800 Watching for file changes with StatReloader
INFO 2022-04-18 12:34:19,838 autoreload 12832 8800 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:34:21,209 autoreload 13484 13216 Watching for file changes with StatReloader
INFO 2022-04-18 12:36:20,119 autoreload 13484 13216 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:36:21,177 autoreload 10440 8284 Watching for file changes with StatReloader
INFO 2022-04-18 12:36:29,869 autoreload 10440 8284 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:36:30,809 autoreload 13420 976 Watching for file changes with StatReloader
WARNING 2022-04-18 12:36:59,638 log 13420 9280 Bad Request: /invoice/
WARNING 2022-04-18 12:36:59,638 basehttp 13420 9280 "POST /invoice/ HTTP/1.1" 400 128
INFO 2022-04-18 12:38:03,525 basehttp 13420 9280 "POST /invoice/ HTTP/1.1" 200 108
INFO 2022-04-18 12:39:28,470 autoreload 13420 976 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:39:29,744 autoreload 12012 1972 Watching for file changes with StatReloader
INFO 2022-04-18 12:43:30,661 autoreload 12012 1972 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 12:43:31,999 autoreload 11160 13172 Watching for file changes with StatReloader
INFO 2022-04-18 12:45:10,947 autoreload 11160 13172 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 12:45:12,331 autoreload 1464 6168 Watching for file changes with StatReloader
INFO 2022-04-18 12:47:48,711 autoreload 1464 6168 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 12:47:50,390 autoreload 3364 8892 Watching for file changes with StatReloader
INFO 2022-04-18 12:49:18,844 autoreload 3364 8892 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 12:49:20,236 autoreload 416 9712 Watching for file changes with StatReloader
INFO 2022-04-18 12:49:33,910 autoreload 416 9712 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 12:49:35,142 autoreload 6644 5968 Watching for file changes with StatReloader
INFO 2022-04-18 12:51:29,819 autoreload 6644 5968 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 12:51:30,891 autoreload 12532 2624 Watching for file changes with StatReloader
INFO 2022-04-18 12:54:11,882 autoreload 12532 2624 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:54:12,992 autoreload 5180 1080 Watching for file changes with StatReloader
INFO 2022-04-18 12:56:35,385 autoreload 5180 1080 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:56:36,498 autoreload 12384 12264 Watching for file changes with StatReloader
INFO 2022-04-18 12:56:38,172 autoreload 12384 12264 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 12:56:39,140 autoreload 11740 8856 Watching for file changes with StatReloader
INFO 2022-04-18 12:59:47,960 basehttp 11740 12736 "GET /invoice/ HTTP/1.1" 200 120
INFO 2022-04-18 13:00:20,602 basehttp 11740 12736 "GET /orders/ HTTP/1.1" 200 4261
ERROR 2022-04-18 13:01:20,670 log 11740 12736 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 17, in create
    new_invoice = self.invoice_service.create(validated_data)
AttributeError: 'InvoiceView' object has no attribute 'invoice_service'
ERROR 2022-04-18 13:01:20,677 basehttp 11740 12736 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:02:20,256 autoreload 11740 8856 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 13:02:21,676 autoreload 11548 2584 Watching for file changes with StatReloader
INFO 2022-04-18 13:03:23,022 autoreload 11548 2584 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:03:24,100 autoreload 10492 9380 Watching for file changes with StatReloader
ERROR 2022-04-18 13:03:29,491 log 10492 13672 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 13:03:29,498 basehttp 10492 13672 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:05:13,194 autoreload 10492 9380 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:05:14,359 autoreload 10220 676 Watching for file changes with StatReloader
INFO 2022-04-18 13:05:31,325 autoreload 10220 676 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:05:32,440 autoreload 6680 1776 Watching for file changes with StatReloader
INFO 2022-04-18 13:05:44,169 autoreload 6680 1776 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:05:45,250 autoreload 13600 13552 Watching for file changes with StatReloader
ERROR 2022-04-18 13:05:49,458 log 13600 13708 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 13:05:49,467 basehttp 13600 13708 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:07:02,449 autoreload 13600 13552 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:07:03,378 autoreload 5772 656 Watching for file changes with StatReloader
INFO 2022-04-18 13:07:07,371 autoreload 5772 656 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:07:08,419 autoreload 2972 10748 Watching for file changes with StatReloader
WARNING 2022-04-18 13:07:12,238 log 2972 5584 Bad Request: /invoice/
WARNING 2022-04-18 13:07:12,238 basehttp 2972 5584 "POST /invoice/ HTTP/1.1" 400 64
ERROR 2022-04-18 13:07:58,882 log 2972 5584 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 13:07:58,884 basehttp 2972 5584 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:08:36,151 autoreload 2972 10748 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:08:37,179 autoreload 4636 13492 Watching for file changes with StatReloader
INFO 2022-04-18 13:09:03,248 autoreload 4636 13492 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:09:04,436 autoreload 780 2712 Watching for file changes with StatReloader
INFO 2022-04-18 13:09:40,153 autoreload 780 2712 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:09:41,215 autoreload 12968 512 Watching for file changes with StatReloader
WARNING 2022-04-18 13:09:56,204 log 12968 9684 Bad Request: /invoice/
WARNING 2022-04-18 13:09:56,205 basehttp 12968 9684 "POST /invoice/ HTTP/1.1" 400 64
ERROR 2022-04-18 13:10:21,631 log 12968 9684 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 13:10:21,635 basehttp 12968 9684 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:10:48,212 autoreload 12968 512 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:10:49,739 autoreload 5540 7848 Watching for file changes with StatReloader
INFO 2022-04-18 13:11:19,009 autoreload 5540 7848 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:11:20,478 autoreload 11296 14252 Watching for file changes with StatReloader
WARNING 2022-04-18 13:11:33,630 log 11296 11160 Bad Request: /invoice/
WARNING 2022-04-18 13:11:33,631 basehttp 11296 11160 "POST /invoice/ HTTP/1.1" 400 64
ERROR 2022-04-18 13:11:44,427 log 11296 11160 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'order': [ErrorDetail(string='Invalid pk "250" - object does not exist.', code='does_not_exist')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 14, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 13:11:44,438 basehttp 11296 11160 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 13:12:44,848 autoreload 11296 14252 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:12:46,069 autoreload 11656 5300 Watching for file changes with StatReloader
INFO 2022-04-18 13:13:24,505 autoreload 11656 5300 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:13:25,829 autoreload 10248 2908 Watching for file changes with StatReloader
INFO 2022-04-18 13:52:18,748 autoreload 10248 2908 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:52:19,708 autoreload 5436 14980 Watching for file changes with StatReloader
INFO 2022-04-18 13:53:25,837 autoreload 5436 14980 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:53:26,759 autoreload 12392 5348 Watching for file changes with StatReloader
INFO 2022-04-18 13:54:06,350 basehttp 12392 6440 "GET /orders/ HTTP/1.1" 200 4261
INFO 2022-04-18 13:56:48,782 autoreload 12392 5348 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:56:49,579 autoreload 14704 12412 Watching for file changes with StatReloader
INFO 2022-04-18 13:56:52,156 autoreload 14704 12412 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 13:56:53,148 autoreload 9296 15300 Watching for file changes with StatReloader
INFO 2022-04-18 13:57:12,766 basehttp 9296 12416 "GET /invoice/ HTTP/1.1" 200 120
ERROR 2022-04-18 13:57:29,370 log 9296 12416 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 13:57:29,372 basehttp 9296 12416 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:00:36,568 autoreload 9296 15300 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:00:37,487 autoreload 11852 6448 Watching for file changes with StatReloader
INFO 2022-04-18 14:01:53,441 autoreload 11852 6448 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 14:01:54,321 autoreload 15156 5964 Watching for file changes with StatReloader
INFO 2022-04-18 14:03:34,581 autoreload 15156 5964 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 14:03:35,272 autoreload 12740 4104 Watching for file changes with StatReloader
INFO 2022-04-18 14:05:57,098 autoreload 12740 4104 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\models.py changed, reloading.
INFO 2022-04-18 14:05:57,801 autoreload 13040 7748 Watching for file changes with StatReloader
INFO 2022-04-18 14:06:07,280 autoreload 13040 7748 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\models.py changed, reloading.
INFO 2022-04-18 14:06:08,009 autoreload 14616 9724 Watching for file changes with StatReloader
INFO 2022-04-18 14:06:51,540 autoreload 14616 9724 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 14:06:52,320 autoreload 2736 14464 Watching for file changes with StatReloader
INFO 2022-04-18 14:08:04,837 autoreload 2736 14464 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:08:05,754 autoreload 11004 5824 Watching for file changes with StatReloader
INFO 2022-04-18 14:09:22,507 autoreload 11004 5824 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:09:23,273 autoreload 12488 7440 Watching for file changes with StatReloader
INFO 2022-04-18 14:09:46,983 autoreload 12488 7440 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:09:47,812 autoreload 15324 13536 Watching for file changes with StatReloader
INFO 2022-04-18 14:10:29,686 autoreload 15324 13536 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:10:30,479 autoreload 5540 5300 Watching for file changes with StatReloader
INFO 2022-04-18 14:10:55,254 autoreload 5540 5300 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 14:10:56,067 autoreload 14672 4172 Watching for file changes with StatReloader
INFO 2022-04-18 14:11:27,275 autoreload 14672 4172 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:11:28,056 autoreload 9888 15000 Watching for file changes with StatReloader
INFO 2022-04-18 14:11:33,873 autoreload 9888 15000 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:11:34,748 autoreload 6452 2972 Watching for file changes with StatReloader
INFO 2022-04-18 14:12:35,809 autoreload 6452 2972 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:12:36,732 autoreload 15336 14776 Watching for file changes with StatReloader
INFO 2022-04-18 14:14:37,637 autoreload 15336 14776 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:14:38,512 autoreload 6796 11244 Watching for file changes with StatReloader
INFO 2022-04-18 14:15:06,712 autoreload 6796 11244 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:15:07,526 autoreload 12980 14216 Watching for file changes with StatReloader
INFO 2022-04-18 14:16:10,406 autoreload 12980 14216 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:16:11,170 autoreload 14668 5576 Watching for file changes with StatReloader
ERROR 2022-04-18 14:16:30,434 log 14668 10620 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'payment_deadline': [ErrorDetail(string='This field is required.', code='required')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 14, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:16:30,437 basehttp 14668 10620 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:17:59,952 log 14668 10620 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 35, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
AttributeError: 'AttributeError' object has no attribute 'status_code'
ERROR 2022-04-18 14:17:59,955 basehttp 14668 10620 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:18:30,978 log 14668 10620 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'amount': [ErrorDetail(string='This field may not be null.', code='null')], 'created_date': [ErrorDetail(string='This field may not be null.', code='null')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 14, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:18:30,979 basehttp 14668 10620 "POST /invoice/ HTTP/1.1" 500 145
WARNING 2022-04-18 14:18:49,217 log 14668 10620 Bad Request: /invoice/
WARNING 2022-04-18 14:18:49,217 basehttp 14668 10620 "POST /invoice/ HTTP/1.1" 400 102
ERROR 2022-04-18 14:18:57,138 log 14668 10620 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'amount': [ErrorDetail(string='This field may not be null.', code='null')], 'created_date': [ErrorDetail(string='This field may not be null.', code='null')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 14, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:18:57,139 basehttp 14668 10620 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:20:24,031 autoreload 14668 5576 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 14:20:24,844 autoreload 8748 5672 Watching for file changes with StatReloader
ERROR 2022-04-18 14:20:27,688 log 8748 1740 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'amount': [ErrorDetail(string='This field may not be null.', code='null')], 'created_date': [ErrorDetail(string='This field may not be null.', code='null')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 15, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:20:27,694 basehttp 8748 1740 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:20:49,910 log 8748 1740 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'created_date': [ErrorDetail(string='This field may not be null.', code='null')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 15, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:20:49,912 basehttp 8748 1740 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:21:03,329 log 8748 1740 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 35, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
AttributeError: 'AttributeError' object has no attribute 'status_code'
ERROR 2022-04-18 14:21:03,332 basehttp 8748 1740 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:21:18,150 log 8748 1740 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 35, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
AttributeError: 'AttributeError' object has no attribute 'status_code'
ERROR 2022-04-18 14:21:18,151 basehttp 8748 1740 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:23:32,573 autoreload 8748 5672 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 14:23:33,589 autoreload 12764 9180 Watching for file changes with StatReloader
INFO 2022-04-18 14:23:57,520 autoreload 12764 9180 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 14:23:58,411 autoreload 1176 14792 Watching for file changes with StatReloader
ERROR 2022-04-18 14:24:01,743 log 1176 14536 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 35, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
AttributeError: 'AttributeError' object has no attribute 'status_code'
ERROR 2022-04-18 14:24:01,747 basehttp 1176 14536 "POST /invoice/ HTTP/1.1" 500 145
ERROR 2022-04-18 14:24:59,643 log 1176 14536 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'created_date': [ErrorDetail(string='This field may not be null.', code='null')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 15, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 14:24:59,646 basehttp 1176 14536 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:25:13,605 autoreload 1176 14792 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 14:25:14,564 autoreload 6016 12880 Watching for file changes with StatReloader
ERROR 2022-04-18 14:25:15,465 log 6016 6428 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 35, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
AttributeError: 'AttributeError' object has no attribute 'status_code'
ERROR 2022-04-18 14:25:15,468 basehttp 6016 6428 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:44:13,962 autoreload 6016 12880 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:44:15,048 autoreload 2156 2400 Watching for file changes with StatReloader
ERROR 2022-04-18 14:47:05,342 log 2156 8016 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 42, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 25, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 52, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'
ERROR 2022-04-18 14:47:05,347 basehttp 2156 8016 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:54:35,357 autoreload 2156 2400 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:54:36,744 autoreload 10880 14552 Watching for file changes with StatReloader
INFO 2022-04-18 14:54:41,099 autoreload 10880 14552 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:54:42,358 autoreload 15036 9336 Watching for file changes with StatReloader
INFO 2022-04-18 14:54:49,982 autoreload 15036 9336 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:54:50,932 autoreload 14704 10072 Watching for file changes with StatReloader
ERROR 2022-04-18 14:54:54,580 log 14704 10412 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'
ERROR 2022-04-18 14:54:54,584 basehttp 14704 10412 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:55:29,365 autoreload 14704 10072 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:55:30,754 autoreload 12892 2344 Watching for file changes with StatReloader
ERROR 2022-04-18 14:55:32,296 log 12892 10492 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'
ERROR 2022-04-18 14:55:32,300 basehttp 12892 10492 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:55:59,379 autoreload 12892 2344 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:56:01,204 autoreload 3104 15084 Watching for file changes with StatReloader
ERROR 2022-04-18 14:56:10,747 log 3104 9176 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'
ERROR 2022-04-18 14:56:10,751 basehttp 3104 9176 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:57:07,981 autoreload 3104 15084 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:57:09,010 autoreload 4228 13840 Watching for file changes with StatReloader
ERROR 2022-04-18 14:57:11,751 log 4228 13092 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(exc.status_code, "Exception in PO Invoice Creation")
AttributeError: 'NameError' object has no attribute 'status_code'
ERROR 2022-04-18 14:57:11,757 basehttp 4228 13092 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 14:57:50,261 autoreload 4228 13840 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 14:57:51,226 autoreload 124 5456 Watching for file changes with StatReloader
WARNING 2022-04-18 14:57:53,726 log 124 1816 Bad Request: /invoice/
WARNING 2022-04-18 14:57:53,726 basehttp 124 1816 "POST /invoice/ HTTP/1.1" 400 64
INFO 2022-04-18 15:00:32,337 autoreload 124 5456 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:00:33,271 autoreload 8128 8028 Watching for file changes with StatReloader
INFO 2022-04-18 15:03:26,665 autoreload 8128 8028 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:03:27,651 autoreload 12880 13104 Watching for file changes with StatReloader
ERROR 2022-04-18 15:03:37,895 log 12880 9532 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(400, "Exception in PO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in PO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 36, in create
    raise CustomException(400, "Exception in SO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in SO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 18, in custom_exception_handler
    response.data['status_code'] = response.default_code
AttributeError: 'Response' object has no attribute 'default_code'
ERROR 2022-04-18 15:03:37,901 basehttp 12880 9532 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 15:03:52,299 autoreload 12880 13104 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:03:53,393 autoreload 7464 10908 Watching for file changes with StatReloader
ERROR 2022-04-18 15:03:54,651 log 7464 15144 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(400, "Exception in PO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in PO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 36, in create
    raise CustomException(400, "Exception in SO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in SO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 19, in custom_exception_handler
    response.data['status_code'] = response.default_code
AttributeError: 'Response' object has no attribute 'default_code'
ERROR 2022-04-18 15:03:54,655 basehttp 7464 15144 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 15:04:20,307 autoreload 7464 10908 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:04:21,174 autoreload 10216 13996 Watching for file changes with StatReloader
INFO 2022-04-18 15:04:34,916 autoreload 10216 13996 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:04:35,800 autoreload 7456 408 Watching for file changes with StatReloader
ERROR 2022-04-18 15:04:41,400 log 7456 8060 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 53, in total_amount
    raise CustomException(400, "Exception in PO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in PO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 36, in create
    raise CustomException(exc.status_code, "Exception in SO Invoice Creation")
utils.exceptionhandler.CustomException: Exception in SO Invoice Creation

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 19, in custom_exception_handler
    response.data['status_code'] = response.default_code
AttributeError: 'Response' object has no attribute 'default_code'
ERROR 2022-04-18 15:04:41,400 basehttp 7456 8060 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 15:04:58,116 autoreload 7456 408 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:04:59,447 autoreload 11644 11820 Watching for file changes with StatReloader
INFO 2022-04-18 15:05:01,943 autoreload 11644 11820 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:05:02,845 autoreload 10376 13600 Watching for file changes with StatReloader
WARNING 2022-04-18 15:05:04,936 log 10376 15096 Bad Request: /invoice/
WARNING 2022-04-18 15:05:04,936 basehttp 10376 15096 "POST /invoice/ HTTP/1.1" 400 45
INFO 2022-04-18 15:05:38,244 autoreload 10376 13600 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:05:39,160 autoreload 15192 14844 Watching for file changes with StatReloader
WARNING 2022-04-18 15:05:41,699 log 15192 12888 Bad Request: /invoice/
WARNING 2022-04-18 15:05:41,700 basehttp 15192 12888 "POST /invoice/ HTTP/1.1" 400 45
INFO 2022-04-18 15:06:18,453 autoreload 15192 14844 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:06:19,394 autoreload 2916 12812 Watching for file changes with StatReloader
INFO 2022-04-18 15:06:29,921 autoreload 2916 12812 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:06:30,831 autoreload 8452 13852 Watching for file changes with StatReloader
WARNING 2022-04-18 15:06:33,364 log 8452 12112 Bad Request: /invoice/
WARNING 2022-04-18 15:06:33,366 basehttp 8452 12112 "POST /invoice/ HTTP/1.1" 400 64
INFO 2022-04-18 15:06:48,655 autoreload 8452 13852 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:06:49,740 autoreload 2068 13964 Watching for file changes with StatReloader
WARNING 2022-04-18 15:06:51,094 log 2068 9424 Bad Request: /invoice/
WARNING 2022-04-18 15:06:51,094 basehttp 2068 9424 "POST /invoice/ HTTP/1.1" 400 64
WARNING 2022-04-18 15:07:43,088 log 2068 9424 Bad Request: /invoice/
WARNING 2022-04-18 15:07:43,089 basehttp 2068 9424 "POST /invoice/ HTTP/1.1" 400 64
INFO 2022-04-18 15:08:17,688 autoreload 11896 12332 Watching for file changes with StatReloader
WARNING 2022-04-18 15:08:20,712 log 11896 9772 Bad Request: /invoice/
WARNING 2022-04-18 15:08:20,714 basehttp 11896 9772 "POST /invoice/ HTTP/1.1" 400 64
INFO 2022-04-18 15:09:20,277 autoreload 11896 12332 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:09:21,289 autoreload 1932 14212 Watching for file changes with StatReloader
WARNING 2022-04-18 15:09:23,300 log 1932 1184 Bad Request: /invoice/
WARNING 2022-04-18 15:09:23,301 basehttp 1932 1184 "POST /invoice/ HTTP/1.1" 400 64
INFO 2022-04-18 15:10:11,254 autoreload 1932 14212 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:10:12,278 autoreload 6040 6496 Watching for file changes with StatReloader
ERROR 2022-04-18 15:10:14,870 log 6040 10208 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 15:10:14,877 basehttp 6040 10208 "POST /invoice/ HTTP/1.1" 500 145
INFO 2022-04-18 15:10:40,765 autoreload 6040 6496 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\settings.py changed, reloading.
INFO 2022-04-18 15:10:41,746 autoreload 3436 13004 Watching for file changes with StatReloader
ERROR 2022-04-18 15:10:43,748 log 3436 13764 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 26, in create
    amount = self.total_amount(order)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 43, in total_amount
    order_serializer = OrderSerializer(order)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 15:10:43,748 basehttp 3436 13764 "POST /invoice/ HTTP/1.1" 500 102857
INFO 2022-04-18 15:11:23,441 autoreload 3436 13004 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:11:24,420 autoreload 12764 15108 Watching for file changes with StatReloader
INFO 2022-04-18 15:11:43,812 autoreload 12764 15108 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:11:44,790 autoreload 4400 11524 Watching for file changes with StatReloader
ERROR 2022-04-18 15:11:51,833 log 4400 7380 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    serialized = OrderSerializer(new_invoice)
NameError: name 'OrderSerializer' is not defined
ERROR 2022-04-18 15:11:51,833 basehttp 4400 7380 "POST /invoice/ HTTP/1.1" 500 89110
INFO 2022-04-18 15:12:19,987 autoreload 4400 11524 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 15:12:21,022 autoreload 6124 11924 Watching for file changes with StatReloader
ERROR 2022-04-18 15:12:22,766 log 6124 9208 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'order': [ErrorDetail(string='This field must be unique.', code='unique')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 14, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 15:12:22,771 basehttp 6124 9208 "POST /invoice/ HTTP/1.1" 500 93832
INFO 2022-04-18 15:13:14,403 autoreload 6124 11924 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:13:15,452 autoreload 9212 9372 Watching for file changes with StatReloader
ERROR 2022-04-18 15:13:17,406 log 9212 10188 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 235, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'order': [ErrorDetail(string='This field must be unique.', code='unique')], 'status_code': 400}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 466, in handle_exception
    response = exception_handler(exc, context)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py", line 15, in custom_exception_handler
    response.data['message'] = response.data['detail']
KeyError: 'detail'
ERROR 2022-04-18 15:13:17,411 basehttp 9212 10188 "POST /invoice/ HTTP/1.1" 500 93808
INFO 2022-04-18 15:14:19,061 autoreload 9212 9372 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 15:14:20,144 autoreload 14152 6016 Watching for file changes with StatReloader
WARNING 2022-04-18 15:14:21,531 log 14152 7724 Bad Request: /invoice/
WARNING 2022-04-18 15:14:21,532 basehttp 14152 7724 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:17:37,534 autoreload 14152 6016 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 15:17:38,537 autoreload 248 14404 Watching for file changes with StatReloader
WARNING 2022-04-18 15:17:41,418 log 248 1928 Bad Request: /invoice/
WARNING 2022-04-18 15:17:41,419 basehttp 248 1928 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:21:01,426 autoreload 248 14404 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:21:02,445 autoreload 10160 12696 Watching for file changes with StatReloader
INFO 2022-04-18 15:21:08,343 autoreload 10160 12696 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:21:09,363 autoreload 10716 14936 Watching for file changes with StatReloader
WARNING 2022-04-18 15:21:12,336 log 10716 13400 Bad Request: /invoice/
WARNING 2022-04-18 15:21:12,336 basehttp 10716 13400 "POST /invoice/ HTTP/1.1" 400 102
INFO 2022-04-18 15:23:12,307 autoreload 10716 14936 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:23:13,287 autoreload 5512 10632 Watching for file changes with StatReloader
WARNING 2022-04-18 15:23:15,038 log 5512 13212 Bad Request: /invoice/
WARNING 2022-04-18 15:23:15,039 basehttp 5512 13212 "POST /invoice/ HTTP/1.1" 400 102
INFO 2022-04-18 15:23:29,724 autoreload 5512 10632 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:23:30,666 autoreload 10500 1416 Watching for file changes with StatReloader
ERROR 2022-04-18 15:23:34,107 log 10500 9824 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    validated_data.is_valid(raise_exception=True)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 426, in run_validation
    value = self.to_internal_value(data)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 479, in to_internal_value
    for field in fields:
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 362, in _writable_fields
    for field in self.fields.values():
  File "C:\Python310\lib\site-packages\django\utils\functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 356, in fields
    for key, value in self.get_fields().items():
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 1052, in get_fields
    field_names = self.get_field_names(declared_fields, info)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 1148, in get_field_names
    assert field_name in fields, (
AssertionError: The field 'order' was declared on serializer InvoiceSerializer, but has not been included in the 'fields' option.
ERROR 2022-04-18 15:23:34,117 basehttp 10500 9824 "POST /invoice/ HTTP/1.1" 500 129043
INFO 2022-04-18 15:23:48,581 autoreload 10500 1416 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:23:49,441 autoreload 7400 9980 Watching for file changes with StatReloader
INFO 2022-04-18 15:24:20,596 autoreload 7400 9980 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:24:21,612 autoreload 13096 11324 Watching for file changes with StatReloader
WARNING 2022-04-18 15:24:23,370 log 13096 13980 Bad Request: /invoice/
WARNING 2022-04-18 15:24:23,370 basehttp 13096 13980 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:24:52,868 autoreload 13096 11324 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 15:24:53,852 autoreload 15072 8320 Watching for file changes with StatReloader
INFO 2022-04-18 15:26:12,298 autoreload 15072 8320 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:26:13,336 autoreload 11960 13216 Watching for file changes with StatReloader
WARNING 2022-04-18 15:26:15,589 log 11960 2352 Bad Request: /invoice/
WARNING 2022-04-18 15:26:15,590 basehttp 11960 2352 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:26:46,284 autoreload 11960 13216 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 15:26:47,337 autoreload 10864 3036 Watching for file changes with StatReloader
ERROR 2022-04-18 15:26:50,201 log 10864 3456 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 18, in create
    print(validated_data.data)
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 555, in data
    ret = super().data
  File "C:\Python310\lib\site-packages\rest_framework\serializers.py", line 249, in data
    raise AssertionError(msg)
AssertionError: When a serializer is passed a `data` keyword argument you must call `.is_valid()` before attempting to access the serialized `.data` representation.
You should either call `.is_valid()` first, or access `.initial_data` instead.
ERROR 2022-04-18 15:26:50,211 basehttp 10864 3456 "POST /invoice/ HTTP/1.1" 500 99408
INFO 2022-04-18 15:26:57,194 autoreload 10864 3036 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 15:26:58,203 autoreload 8716 1604 Watching for file changes with StatReloader
WARNING 2022-04-18 15:27:34,691 log 8716 11836 Bad Request: /invoice/
WARNING 2022-04-18 15:27:34,691 basehttp 8716 11836 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:36:01,440 autoreload 8716 1604 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:36:02,473 autoreload 12924 5900 Watching for file changes with StatReloader
WARNING 2022-04-18 15:36:06,855 log 12924 8188 Bad Request: /invoice/
WARNING 2022-04-18 15:36:06,856 basehttp 12924 8188 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:36:20,455 autoreload 12924 5900 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:36:21,376 autoreload 8308 7784 Watching for file changes with StatReloader
INFO 2022-04-18 15:36:44,618 autoreload 8308 7784 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:36:45,672 autoreload 14932 6000 Watching for file changes with StatReloader
WARNING 2022-04-18 15:36:47,391 log 14932 3396 Bad Request: /invoice/
WARNING 2022-04-18 15:36:47,391 basehttp 14932 3396 "POST /invoice/ HTTP/1.1" 400 102
INFO 2022-04-18 15:40:14,307 autoreload 14932 6000 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:40:15,345 autoreload 14684 13908 Watching for file changes with StatReloader
WARNING 2022-04-18 15:40:17,492 log 14684 11452 Bad Request: /invoice/
WARNING 2022-04-18 15:40:17,493 basehttp 14684 11452 "POST /invoice/ HTTP/1.1" 400 102
INFO 2022-04-18 15:40:40,789 autoreload 14684 13908 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:40:41,642 autoreload 10440 6704 Watching for file changes with StatReloader
INFO 2022-04-18 15:41:02,001 autoreload 10440 6704 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:41:02,831 autoreload 10548 10380 Watching for file changes with StatReloader
WARNING 2022-04-18 15:41:09,404 log 10548 8368 Bad Request: /invoice/
WARNING 2022-04-18 15:41:09,404 basehttp 10548 8368 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:41:18,435 autoreload 10548 10380 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 15:42:12,619 autoreload 12300 7084 Watching for file changes with StatReloader
WARNING 2022-04-18 15:42:25,527 log 12300 10612 Bad Request: /invoice/
WARNING 2022-04-18 15:42:25,529 basehttp 12300 10612 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 15:45:41,334 autoreload 12300 7084 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 15:45:42,262 autoreload 9704 15080 Watching for file changes with StatReloader
WARNING 2022-04-18 15:45:45,378 log 9704 8212 Bad Request: /invoice/
WARNING 2022-04-18 15:45:45,380 basehttp 9704 8212 "POST /invoice/ HTTP/1.1" 400 58
WARNING 2022-04-18 15:47:29,694 log 9704 8212 Bad Request: /invoice/
WARNING 2022-04-18 15:47:29,694 basehttp 9704 8212 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 16:13:30,181 autoreload 10788 10020 Watching for file changes with StatReloader
WARNING 2022-04-18 16:13:34,329 log 10788 3932 Bad Request: /invoice/
WARNING 2022-04-18 16:13:34,329 basehttp 10788 3932 "POST /invoice/ HTTP/1.1" 400 58
WARNING 2022-04-18 16:13:40,532 log 10788 3932 Bad Request: /invoice/
WARNING 2022-04-18 16:13:40,533 basehttp 10788 3932 "POST /invoice/ HTTP/1.1" 400 55
WARNING 2022-04-18 16:14:02,373 log 10788 3932 Not Found: /order/215
WARNING 2022-04-18 16:14:02,373 basehttp 10788 3932 "GET /order/215 HTTP/1.1" 404 9546
WARNING 2022-04-18 16:14:08,864 log 10788 3932 Not Found: /order/215/
WARNING 2022-04-18 16:14:08,864 basehttp 10788 3932 "GET /order/215/ HTTP/1.1" 404 9549
INFO 2022-04-18 16:14:12,103 basehttp 10788 3932 "GET /orders/215/ HTTP/1.1" 200 164
INFO 2022-04-18 16:14:21,497 basehttp 10788 3932 "GET /orders/207/ HTTP/1.1" 200 135
INFO 2022-04-18 16:14:50,352 basehttp 10788 3932 "GET /orders/207/ HTTP/1.1" 200 135
WARNING 2022-04-18 16:15:03,164 log 10788 3932 Bad Request: /invoice/
WARNING 2022-04-18 16:15:03,164 basehttp 10788 3932 "POST /invoice/ HTTP/1.1" 400 81
WARNING 2022-04-18 16:15:28,314 log 10788 3932 Bad Request: /invoice/
WARNING 2022-04-18 16:15:28,315 basehttp 10788 3932 "POST /invoice/ HTTP/1.1" 400 58
INFO 2022-04-18 16:18:31,994 autoreload 10788 10020 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 16:18:33,069 autoreload 15136 7868 Watching for file changes with StatReloader
INFO 2022-04-18 16:20:27,268 autoreload 15136 7868 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 16:20:28,317 autoreload 14432 8448 Watching for file changes with StatReloader
ERROR 2022-04-18 16:20:30,587 log 14432 4612 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 23, in create
    order_id = validated_data.data['order']
KeyError: 'order'
ERROR 2022-04-18 16:20:30,590 basehttp 14432 4612 "POST /invoice/ HTTP/1.1" 500 98383
INFO 2022-04-18 16:21:12,371 autoreload 14432 8448 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 16:21:13,513 autoreload 8976 13524 Watching for file changes with StatReloader
ERROR 2022-04-18 16:21:14,775 log 8976 15104 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 19, in create
    new_invoice = self.invoice_service.create(validated_data)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 24, in create
    order_id = validated_data.data['order']
KeyError: 'order'
ERROR 2022-04-18 16:21:14,780 basehttp 8976 15104 "POST /invoice/ HTTP/1.1" 500 98324
INFO 2022-04-18 16:21:53,790 autoreload 8976 13524 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 16:21:54,739 autoreload 6440 9932 Watching for file changes with StatReloader
INFO 2022-04-18 16:25:03,133 autoreload 2664 6392 Watching for file changes with StatReloader
WARNING 2022-04-18 16:25:06,544 log 2664 1036 Bad Request: /invoice/
WARNING 2022-04-18 16:25:06,544 basehttp 2664 1036 "POST /invoice/ HTTP/1.1" 400 102
INFO 2022-04-18 16:25:51,546 autoreload 2664 6392 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 16:25:52,511 autoreload 5352 3932 Watching for file changes with StatReloader
INFO 2022-04-18 16:26:16,279 autoreload 5352 3932 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 16:26:17,239 autoreload 13952 6968 Watching for file changes with StatReloader
INFO 2022-04-18 16:26:22,242 autoreload 13952 6968 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 16:26:23,193 autoreload 5144 4080 Watching for file changes with StatReloader
INFO 2022-04-18 16:26:32,683 autoreload 5144 4080 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 16:26:33,490 autoreload 13908 5780 Watching for file changes with StatReloader
INFO 2022-04-18 16:26:43,906 autoreload 13908 5780 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 16:26:44,785 autoreload 6120 12756 Watching for file changes with StatReloader
ERROR 2022-04-18 16:26:48,465 log 6120 3912 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.IntegrityError: (1062, "Duplicate entry '207' for key 'payments_invoice.order_id'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    new_invoice = self.invoice_service.create(validated_data, order_id)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 31, in create
    invoice = Invoice.objects.create(amount=amount, created_date=created_date,
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 103, in execute
    return super().execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1062, "Duplicate entry '207' for key 'payments_invoice.order_id'")
ERROR 2022-04-18 16:26:48,480 basehttp 6120 3912 "POST /invoice/ HTTP/1.1" 500 209813
WARNING 2022-04-18 16:27:49,144 log 6120 3912 Bad Request: /invoice/
WARNING 2022-04-18 16:27:49,145 basehttp 6120 3912 "POST /invoice/ HTTP/1.1" 400 75
ERROR 2022-04-18 16:28:31,777 log 6120 3912 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 21, in create
    serialized = InvoicSerializer(new_invoice)
NameError: name 'InvoicSerializer' is not defined
ERROR 2022-04-18 16:28:31,779 basehttp 6120 3912 "POST /invoice/ HTTP/1.1" 500 89213
INFO 2022-04-18 16:29:02,035 autoreload 6120 12756 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 16:29:02,999 autoreload 9052 14728 Watching for file changes with StatReloader
ERROR 2022-04-18 16:29:05,167 log 9052 6040 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.IntegrityError: (1062, "Duplicate entry '213' for key 'payments_invoice.order_id'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    new_invoice = self.invoice_service.create(validated_data, order_id)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 31, in create
    invoice = Invoice.objects.create(amount=amount, created_date=created_date,
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 103, in execute
    return super().execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1062, "Duplicate entry '213' for key 'payments_invoice.order_id'")
ERROR 2022-04-18 16:29:05,183 basehttp 9052 6040 "POST /invoice/ HTTP/1.1" 500 210014
INFO 2022-04-18 16:29:16,623 basehttp 9052 6040 "GET /invoice/ HTTP/1.1" 200 283
INFO 2022-04-18 16:29:38,073 autoreload 9052 14728 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 16:29:39,096 autoreload 11520 12584 Watching for file changes with StatReloader
INFO 2022-04-18 16:29:45,630 basehttp 11520 10872 "GET /invoice/ HTTP/1.1" 200 304
INFO 2022-04-18 17:14:38,366 autoreload 10248 11820 Watching for file changes with StatReloader
ERROR 2022-04-18 17:14:45,721 log 10248 1596 Internal Server Error: /invoice/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.IntegrityError: (1062, "Duplicate entry '213' for key 'payments_invoice.order_id'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 20, in create
    new_invoice = self.invoice_service.create(validated_data, order_id)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 31, in create
    invoice = Invoice.objects.create(amount=amount, created_date=created_date,
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 103, in execute
    return super().execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1062, "Duplicate entry '213' for key 'payments_invoice.order_id'")
ERROR 2022-04-18 17:14:45,733 basehttp 10248 1596 "POST /invoice/ HTTP/1.1" 500 210194
INFO 2022-04-18 17:14:59,476 basehttp 10248 1596 "GET /orders/ HTTP/1.1" 200 4261
INFO 2022-04-18 17:15:33,077 basehttp 10248 1596 "GET /orders/206 HTTP/1.1" 301 0
INFO 2022-04-18 17:15:33,089 basehttp 10248 1596 "GET /orders/206/ HTTP/1.1" 200 164
INFO 2022-04-18 17:16:48,414 basehttp 10248 1596 "GET /orders/206 HTTP/1.1" 301 0
INFO 2022-04-18 17:16:48,435 basehttp 10248 1596 "GET /orders/206/ HTTP/1.1" 200 164
INFO 2022-04-18 17:16:56,715 basehttp 10248 1596 "POST /orders/ HTTP/1.1" 200 163
INFO 2022-04-18 17:18:44,348 basehttp 10248 1596 "GET /invoice/ HTTP/1.1" 200 304
WARNING 2022-04-18 17:19:05,778 log 10248 1596 Bad Request: /invoice/
WARNING 2022-04-18 17:19:05,779 basehttp 10248 1596 "POST /invoice/ HTTP/1.1" 400 75
INFO 2022-04-18 17:19:14,942 basehttp 10248 1596 "POST /invoice/ HTTP/1.1" 200 101
INFO 2022-04-18 17:19:44,176 autoreload 10248 11820 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 17:19:45,173 autoreload 2096 13716 Watching for file changes with StatReloader
WARNING 2022-04-18 17:20:06,598 log 2096 12644 Method Not Allowed: /invoice/
WARNING 2022-04-18 17:20:06,598 basehttp 2096 12644 "PUT /invoice/ HTTP/1.1" 405 58
INFO 2022-04-18 17:20:26,874 basehttp 2096 12644 "PUT /invoice/7/ HTTP/1.1" 200 101
INFO 2022-04-18 17:22:09,453 autoreload 2096 13716 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 17:22:10,358 autoreload 15264 5164 Watching for file changes with StatReloader
INFO 2022-04-18 17:30:03,764 autoreload 15264 5164 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:30:04,601 autoreload 9556 6208 Watching for file changes with StatReloader
INFO 2022-04-18 17:35:04,093 autoreload 9556 6208 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:35:04,967 autoreload 5164 15264 Watching for file changes with StatReloader
INFO 2022-04-18 17:35:20,314 autoreload 5164 15264 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:35:21,086 autoreload 3716 10260 Watching for file changes with StatReloader
INFO 2022-04-18 17:35:28,929 autoreload 3716 10260 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:35:29,678 autoreload 9400 12224 Watching for file changes with StatReloader
INFO 2022-04-18 17:35:43,989 autoreload 9400 12224 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:35:44,776 autoreload 12644 11896 Watching for file changes with StatReloader
INFO 2022-04-18 17:36:37,661 autoreload 12644 11896 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 17:36:38,464 autoreload 2176 4656 Watching for file changes with StatReloader
INFO 2022-04-18 17:37:34,764 autoreload 2176 4656 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 17:37:35,584 autoreload 7380 7696 Watching for file changes with StatReloader
INFO 2022-04-18 17:42:14,673 autoreload 7380 7696 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 17:42:15,567 autoreload 2720 10800 Watching for file changes with StatReloader
INFO 2022-04-18 17:43:16,728 autoreload 2720 10800 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 17:43:17,605 autoreload 12152 14560 Watching for file changes with StatReloader
INFO 2022-04-18 17:43:47,649 autoreload 12152 14560 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 17:43:48,429 autoreload 12896 6040 Watching for file changes with StatReloader
INFO 2022-04-18 17:44:14,712 autoreload 12896 6040 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\urls.py changed, reloading.
INFO 2022-04-18 17:44:15,535 autoreload 9492 11716 Watching for file changes with StatReloader
INFO 2022-04-18 17:44:53,581 autoreload 9492 11716 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 17:44:54,383 autoreload 10996 12372 Watching for file changes with StatReloader
INFO 2022-04-18 17:45:12,383 basehttp 10996 14280 "GET /payment/ HTTP/1.1" 200 2
INFO 2022-04-18 17:47:24,567 autoreload 10996 12372 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 17:47:25,273 autoreload 9252 15184 Watching for file changes with StatReloader
INFO 2022-04-18 17:47:44,260 autoreload 9252 15184 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 17:47:44,969 autoreload 11140 10008 Watching for file changes with StatReloader
INFO 2022-04-18 17:57:15,832 autoreload 10808 11108 Watching for file changes with StatReloader
INFO 2022-04-18 18:01:49,969 autoreload 10808 11108 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 18:01:50,908 autoreload 1392 14420 Watching for file changes with StatReloader
INFO 2022-04-18 18:02:21,821 basehttp 1392 14904 "GET /payment/ HTTP/1.1" 200 2
INFO 2022-04-18 18:02:58,927 basehttp 1392 14904 "GET /invoice/ HTTP/1.1" 200 406
ERROR 2022-04-18 18:04:46,472 log 1392 14904 Internal Server Error: /payment/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 32, in create
    new_payment = self.invoice_service.create(validated_data, invoice_id)
AttributeError: 'PaymentView' object has no attribute 'invoice_service'
ERROR 2022-04-18 18:04:46,474 basehttp 1392 14904 "POST /payment/ HTTP/1.1" 500 89619
INFO 2022-04-18 18:05:28,538 autoreload 1392 14420 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 18:05:29,365 autoreload 5172 11848 Watching for file changes with StatReloader
INFO 2022-04-18 18:05:41,643 autoreload 5172 11848 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 18:05:42,428 autoreload 14944 4696 Watching for file changes with StatReloader
INFO 2022-04-18 18:05:45,025 basehttp 14944 7456 "POST /payment/ HTTP/1.1" 200 96
INFO 2022-04-18 18:26:02,496 basehttp 14944 8972 "GET /invoice/ HTTP/1.1" 200 10027
INFO 2022-04-18 18:26:02,641 basehttp 14944 8972 "GET /static/rest_framework/js/ajax-form.js HTTP/1.1" 200 3597
WARNING 2022-04-18 18:26:02,804 log 14944 8972 Not Found: /favicon.ico
WARNING 2022-04-18 18:26:02,805 basehttp 14944 8972 "GET /favicon.ico HTTP/1.1" 404 13027
INFO 2022-04-18 18:26:26,554 autoreload 14944 4696 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:26:27,637 autoreload 13764 13744 Watching for file changes with StatReloader
INFO 2022-04-18 18:26:29,202 basehttp 13764 12828 "GET /invoice/ HTTP/1.1" 200 10027
INFO 2022-04-18 18:26:32,183 basehttp 13764 12828 "GET /invoice/ HTTP/1.1" 200 10027
INFO 2022-04-18 18:26:50,910 autoreload 13764 13744 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:26:51,822 autoreload 14444 4620 Watching for file changes with StatReloader
INFO 2022-04-18 18:26:56,404 basehttp 14444 9976 "GET /payment/ HTTP/1.1" 200 9629
INFO 2022-04-18 18:27:21,306 autoreload 14444 4620 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:27:22,092 autoreload 1084 9492 Watching for file changes with StatReloader
INFO 2022-04-18 18:27:53,645 basehttp 1084 7124 "GET /invoice/ HTTP/1.1" 200 11643
INFO 2022-04-18 18:29:55,180 autoreload 1084 9492 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:29:56,061 autoreload 15172 9920 Watching for file changes with StatReloader
INFO 2022-04-18 18:29:58,011 basehttp 15172 3860 "GET /invoice/ HTTP/1.1" 200 11172
INFO 2022-04-18 18:30:29,932 autoreload 15172 9920 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:30:30,813 autoreload 5732 13860 Watching for file changes with StatReloader
INFO 2022-04-18 18:30:33,641 basehttp 5732 14476 "GET /invoice/ HTTP/1.1" 200 12636
INFO 2022-04-18 18:31:32,495 autoreload 5732 13860 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 18:31:33,382 autoreload 10408 14624 Watching for file changes with StatReloader
INFO 2022-04-18 18:31:35,524 basehttp 10408 13744 "GET /invoice/ HTTP/1.1" 200 13107
INFO 2022-04-18 18:42:20,776 autoreload 10408 14624 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 18:42:21,641 autoreload 13760 14564 Watching for file changes with StatReloader
INFO 2022-04-18 18:42:27,611 autoreload 13760 14564 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 18:42:28,398 autoreload 11324 15024 Watching for file changes with StatReloader
INFO 2022-04-18 18:49:48,687 autoreload 11324 15024 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\models.py changed, reloading.
INFO 2022-04-18 18:49:49,612 autoreload 12356 2056 Watching for file changes with StatReloader
INFO 2022-04-18 19:29:35,643 autoreload 10568 1364 Watching for file changes with StatReloader
WARNING 2022-04-18 19:29:41,581 log 10568 2816 Not Found: /payment//
WARNING 2022-04-18 19:29:41,582 basehttp 10568 2816 "POST /payment// HTTP/1.1" 404 13022
WARNING 2022-04-18 19:29:56,065 log 10568 2816 Not Found: /paymenst/
WARNING 2022-04-18 19:29:56,065 basehttp 10568 2816 "POST /paymenst/ HTTP/1.1" 404 13022
INFO 2022-04-18 19:31:13,895 autoreload 10568 1364 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\settings.py changed, reloading.
INFO 2022-04-18 19:31:30,116 autoreload 3172 12112 Watching for file changes with StatReloader
WARNING 2022-04-18 19:31:33,491 log 3172 12184 Not Found: /paymenst/
WARNING 2022-04-18 19:31:33,492 basehttp 3172 12184 "POST /paymenst/ HTTP/1.1" 404 179
INFO 2022-04-18 19:32:11,997 autoreload 3172 12112 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\inventorymanagementsystem\urls.py changed, reloading.
INFO 2022-04-18 19:32:12,813 autoreload 15260 4636 Watching for file changes with StatReloader
INFO 2022-04-18 19:33:11,735 autoreload 15260 4636 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\views.py changed, reloading.
INFO 2022-04-18 19:33:12,538 autoreload 14100 14996 Watching for file changes with StatReloader
WARNING 2022-04-18 19:33:15,730 log 14100 11588 Not Found: /paymenst/
WARNING 2022-04-18 19:33:15,730 basehttp 14100 11588 "POST /paymenst/ HTTP/1.1" 404 66
INFO 2022-04-18 19:33:48,379 basehttp 14100 11588 "GET /payment/3 HTTP/1.1" 301 0
WARNING 2022-04-18 19:33:48,404 log 14100 11588 Not Found: /payment/3/
WARNING 2022-04-18 19:33:48,405 basehttp 14100 11588 "GET /payment/3/ HTTP/1.1" 404 83
WARNING 2022-04-18 19:34:00,988 log 14100 11588 Not Found: /paymentsa/
WARNING 2022-04-18 19:34:00,989 basehttp 14100 11588 "GET /paymentsa/ HTTP/1.1" 404 66
INFO 2022-04-18 19:34:08,571 basehttp 14100 11588 "GET /payment/ HTTP/1.1" 200 221
INFO 2022-04-18 19:34:43,922 basehttp 14100 11588 "GET /payment/3 HTTP/1.1" 301 0
WARNING 2022-04-18 19:34:43,940 log 14100 11588 Not Found: /payment/3/
WARNING 2022-04-18 19:34:43,941 basehttp 14100 11588 "GET /payment/3/ HTTP/1.1" 404 83
INFO 2022-04-18 19:35:21,984 autoreload 14100 14996 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:35:23,010 autoreload 13824 12456 Watching for file changes with StatReloader
INFO 2022-04-18 19:35:24,310 basehttp 13824 10168 "GET /payment/3 HTTP/1.1" 301 0
WARNING 2022-04-18 19:35:24,330 log 13824 10168 Not Found: /payment/3/
WARNING 2022-04-18 19:35:24,330 basehttp 13824 10168 "GET /payment/3/ HTTP/1.1" 404 61
INFO 2022-04-18 19:35:30,036 autoreload 13824 12456 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:35:31,110 autoreload 13256 1532 Watching for file changes with StatReloader
INFO 2022-04-18 19:35:32,224 basehttp 13256 12244 "GET /payment/3 HTTP/1.1" 301 0
WARNING 2022-04-18 19:35:32,236 log 13256 12244 Not Found: /payment/3/
WARNING 2022-04-18 19:35:32,236 basehttp 13256 12244 "GET /payment/3/ HTTP/1.1" 404 63
WARNING 2022-04-18 19:45:55,433 log 13256 12244 Bad Request: /payment/
WARNING 2022-04-18 19:45:55,434 basehttp 13256 12244 "POST /payment/ HTTP/1.1" 400 60
INFO 2022-04-18 19:46:58,263 autoreload 13256 1532 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:46:59,096 autoreload 13696 748 Watching for file changes with StatReloader
INFO 2022-04-18 19:47:16,151 autoreload 13696 748 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:47:17,030 autoreload 14964 13040 Watching for file changes with StatReloader
INFO 2022-04-18 19:47:44,012 autoreload 14964 13040 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:47:44,830 autoreload 8264 5576 Watching for file changes with StatReloader
WARNING 2022-04-18 19:47:52,057 log 8264 3444 Bad Request: /payment/
WARNING 2022-04-18 19:47:52,057 basehttp 8264 3444 "POST /payment/ HTTP/1.1" 400 104
INFO 2022-04-18 19:48:17,377 autoreload 8264 5576 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:48:18,280 autoreload 2156 13204 Watching for file changes with StatReloader
WARNING 2022-04-18 19:48:20,805 log 2156 11620 Bad Request: /payment/
WARNING 2022-04-18 19:48:20,806 basehttp 2156 11620 "POST /payment/ HTTP/1.1" 400 101
INFO 2022-04-18 19:48:32,053 autoreload 2156 13204 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:48:32,955 autoreload 7812 4108 Watching for file changes with StatReloader
WARNING 2022-04-18 19:48:37,023 log 7812 12052 Bad Request: /payment/
WARNING 2022-04-18 19:48:37,023 basehttp 7812 12052 "POST /payment/ HTTP/1.1" 400 101
INFO 2022-04-18 19:48:50,833 autoreload 7812 4108 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:48:51,698 autoreload 10284 11052 Watching for file changes with StatReloader
WARNING 2022-04-18 19:48:52,427 log 10284 14460 Bad Request: /payment/
WARNING 2022-04-18 19:48:52,427 basehttp 10284 14460 "POST /payment/ HTTP/1.1" 400 101
INFO 2022-04-18 19:50:34,178 autoreload 10284 11052 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:50:35,081 autoreload 7460 3864 Watching for file changes with StatReloader
INFO 2022-04-18 19:50:36,881 autoreload 7460 3864 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\exceptionhandler.py changed, reloading.
INFO 2022-04-18 19:50:37,816 autoreload 8180 2796 Watching for file changes with StatReloader
INFO 2022-04-18 20:00:20,596 autoreload 8180 2796 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:00:21,449 autoreload 7596 1596 Watching for file changes with StatReloader
INFO 2022-04-18 20:01:57,495 autoreload 7596 1596 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:01:58,296 autoreload 11452 4108 Watching for file changes with StatReloader
INFO 2022-04-18 20:03:45,092 autoreload 11452 4108 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:03:45,935 autoreload 14876 6104 Watching for file changes with StatReloader
INFO 2022-04-18 20:05:16,549 autoreload 14876 6104 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\models.py changed, reloading.
INFO 2022-04-18 20:05:17,258 autoreload 3388 13044 Watching for file changes with StatReloader
INFO 2022-04-18 20:07:50,172 autoreload 3388 13044 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\models.py changed, reloading.
INFO 2022-04-18 20:07:50,826 autoreload 14820 6208 Watching for file changes with StatReloader
INFO 2022-04-18 20:08:04,670 autoreload 14820 6208 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\utils\constants.py changed, reloading.
INFO 2022-04-18 20:08:05,437 autoreload 9116 12144 Watching for file changes with StatReloader
INFO 2022-04-18 20:09:00,681 autoreload 9116 12144 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 20:09:01,498 autoreload 12924 10324 Watching for file changes with StatReloader
INFO 2022-04-18 20:09:39,734 autoreload 12924 10324 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\products\models.py changed, reloading.
INFO 2022-04-18 20:09:40,513 autoreload 10576 10668 Watching for file changes with StatReloader
ERROR 2022-04-18 20:09:52,456 log 10576 2892 Internal Server Error: /payment/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.IntegrityError: (1062, "Duplicate entry '1' for key 'payments_payment.invoice_id'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 32, in create
    new_payment = self.payment_service.create(validated_data, invoice_id)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 62, in create
    payment = Payment.objects.create(payee_name=validated_data.data['payee_name'],
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1062, "Duplicate entry '1' for key 'payments_payment.invoice_id'")
ERROR 2022-04-18 20:09:52,472 basehttp 10576 2892 "POST /payment/ HTTP/1.1" 500 49
ERROR 2022-04-18 20:10:14,059 log 10576 2892 Internal Server Error: /payment/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
MySQLdb._exceptions.IntegrityError: (1062, "Duplicate entry '1' for key 'payments_payment.invoice_id'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py", line 32, in create
    new_payment = self.payment_service.create(validated_data, invoice_id)
  File "C:\Python310\lib\contextlib.py", line 79, in inner
    return func(*args, **kwds)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py", line 62, in create
    payment = Payment.objects.create(payee_name=validated_data.data['payee_name'],
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 514, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 806, in save
    self.save_base(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 857, in save_base
    updated = self._save_table(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1000, in _save_table
    results = self._do_insert(
  File "C:\Python310\lib\site-packages\django\db\models\base.py", line 1041, in _do_insert
    return manager._insert(
  File "C:\Python310\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 1434, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Python310\lib\site-packages\django\db\models\sql\compiler.py", line 1621, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Python310\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Python310\lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Python310\lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 206, in execute
    res = self._query(query)
  File "C:\Python310\lib\site-packages\MySQLdb\cursors.py", line 319, in _query
    db.query(q)
  File "C:\Python310\lib\site-packages\MySQLdb\connections.py", line 254, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1062, "Duplicate entry '1' for key 'payments_payment.invoice_id'")
ERROR 2022-04-18 20:10:14,062 basehttp 10576 2892 "POST /payment/ HTTP/1.1" 500 49
INFO 2022-04-18 20:10:39,600 basehttp 10576 2892 "POST /payment/ HTTP/1.1" 200 215
WARNING 2022-04-18 20:11:16,646 log 10576 2892 Bad Request: /payment/
WARNING 2022-04-18 20:11:16,647 basehttp 10576 2892 "POST /payment/ HTTP/1.1" 400 58
INFO 2022-04-18 20:13:24,016 autoreload 10576 10668 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\service.py changed, reloading.
INFO 2022-04-18 20:13:24,833 autoreload 9368 4660 Watching for file changes with StatReloader
INFO 2022-04-18 20:14:43,154 autoreload 9368 4660 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:14:43,978 autoreload 11612 14496 Watching for file changes with StatReloader
INFO 2022-04-18 20:15:27,886 autoreload 11612 14496 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:15:28,687 autoreload 3172 12692 Watching for file changes with StatReloader
INFO 2022-04-18 20:15:58,026 autoreload 3172 12692 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:15:58,890 autoreload 9908 7692 Watching for file changes with StatReloader
INFO 2022-04-18 20:17:08,638 autoreload 9908 7692 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:17:09,471 autoreload 13476 12380 Watching for file changes with StatReloader
INFO 2022-04-18 20:18:19,112 autoreload 13476 12380 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:18:19,961 autoreload 9836 13040 Watching for file changes with StatReloader
INFO 2022-04-18 20:18:44,984 autoreload 9836 13040 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\service.py changed, reloading.
INFO 2022-04-18 20:18:45,836 autoreload 11296 10508 Watching for file changes with StatReloader
INFO 2022-04-18 20:19:08,721 autoreload 11296 10508 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\models.py changed, reloading.
INFO 2022-04-18 20:19:09,619 autoreload 5312 5304 Watching for file changes with StatReloader
INFO 2022-04-18 20:22:09,799 autoreload 5312 5304 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\serializers.py changed, reloading.
INFO 2022-04-18 20:22:10,843 autoreload 2640 13660 Watching for file changes with StatReloader
INFO 2022-04-18 20:22:33,687 autoreload 2640 13660 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 20:22:34,631 autoreload 12580 12152 Watching for file changes with StatReloader
INFO 2022-04-18 20:23:18,641 autoreload 12580 12152 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 20:23:19,743 autoreload 14072 10748 Watching for file changes with StatReloader
INFO 2022-04-18 20:23:30,230 autoreload 14072 10748 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 20:23:31,152 autoreload 10964 7712 Watching for file changes with StatReloader
INFO 2022-04-18 20:25:49,844 autoreload 10964 7712 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\payments\views.py changed, reloading.
INFO 2022-04-18 20:25:50,833 autoreload 5260 9380 Watching for file changes with StatReloader
INFO 2022-04-18 20:26:46,634 autoreload 5260 9380 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:26:47,575 autoreload 6052 2488 Watching for file changes with StatReloader
INFO 2022-04-18 20:28:32,312 autoreload 6052 2488 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:28:33,305 autoreload 14452 6444 Watching for file changes with StatReloader
INFO 2022-04-18 20:28:44,987 autoreload 14452 6444 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:28:45,979 autoreload 4524 3664 Watching for file changes with StatReloader
INFO 2022-04-18 20:29:23,790 autoreload 4524 3664 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\products\models.py changed, reloading.
INFO 2022-04-18 20:29:24,794 autoreload 6960 10380 Watching for file changes with StatReloader
INFO 2022-04-18 20:29:47,624 autoreload 6960 10380 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\products\productviews.py changed, reloading.
INFO 2022-04-18 20:29:48,715 autoreload 12672 2424 Watching for file changes with StatReloader
INFO 2022-04-18 20:32:07,061 autoreload 12672 2424 C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py changed, reloading.
INFO 2022-04-18 20:32:08,087 autoreload 13568 2764 Watching for file changes with StatReloader
WARNING 2022-04-18 20:32:15,420 log 13568 13856 Not Found: /order/
WARNING 2022-04-18 20:32:15,420 basehttp 13568 13856 "GET /order/ HTTP/1.1" 404 66
INFO 2022-04-18 20:32:18,553 basehttp 13568 13856 "GET /orders/ HTTP/1.1" 200 4425
INFO 2022-04-18 20:32:32,486 basehttp 13568 13856 "GET /orders/206 HTTP/1.1" 301 0
INFO 2022-04-18 20:32:32,499 basehttp 13568 13856 "GET /orders/206/ HTTP/1.1" 200 164
INFO 2022-04-18 20:32:36,219 basehttp 13568 13856 "GET /orders/201 HTTP/1.1" 301 0
ERROR 2022-04-18 20:32:36,231 log 13568 13856 Internal Server Error: /orders/201/
Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\shortcuts.py", line 85, in get_object_or_404
    return queryset.get(*args, **kwargs)
  File "C:\Python310\lib\site-packages\django\db\models\query.py", line 496, in get
    raise self.model.DoesNotExist(
apps.orders.models.Order.DoesNotExist: Order matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 26, in retrieve
    instance = self.get_object()
  File "C:\Python310\lib\site-packages\rest_framework\generics.py", line 96, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "C:\Python310\lib\site-packages\django\shortcuts.py", line 87, in get_object_or_404
    raise Http404(
django.http.response.Http404: No Order matches the given query.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Python310\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Python310\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Lenovo\Documents\projects\InventoryManagementSystem\inventorymanagementsystem\apps\orders\orderviews.py", line 30, in retrieve
    raise CustomException(exc.status_code, "Exception in Retrieving Orders")
AttributeError: 'Http404' object has no attribute 'status_code'
ERROR 2022-04-18 20:32:36,237 basehttp 13568 13856 "GET /orders/201/ HTTP/1.1" 500 49
